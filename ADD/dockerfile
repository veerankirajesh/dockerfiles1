FROM almalinux:9

# Install nginx and curl
RUN dnf install -y nginx curl && dnf clean all

# Remove default index.html
RUN rm -rf /usr/share/nginx/html/index.html

# âœ… Use curl to download the file
RUN curl -o /usr/share/nginx/html/index.html https://raw.githubusercontent.com/veerankirajesh/roboshop-ansible/main/cart.service

# Set correct permissions
RUN chmod +r /usr/share/nginx/html/index.html

EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
